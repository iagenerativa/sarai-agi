
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://iagenerativa.github.io/sarai-agi/HLCS_V04_MULTI_STAKEHOLDER_SCI/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>HLCS v0.4: Multi-Stakeholder Social Contract Interface (SCI) - SARAi_AGI Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hlcs-v04-multi-stakeholder-social-contract-interface-sci" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="SARAi_AGI Docs" class="md-header__button md-logo" aria-label="SARAi_AGI Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SARAi_AGI Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HLCS v0.4: Multi-Stakeholder Social Contract Interface (SCI)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="BÃºsqueda" placeholder="BÃºsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando bÃºsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/iagenerativa/sarai-agi" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    iagenerativa/sarai-agi
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="NavegaciÃ³n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SARAi_AGI Docs" class="md-nav__button md-logo" aria-label="SARAi_AGI Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    SARAi_AGI Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/iagenerativa/sarai-agi" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    iagenerativa/sarai-agi
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ARCHITECTURE_OVERVIEW/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arquitectura
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../MIGRATION_PLAN_v3_5_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plan de MigraciÃ³n
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ROADMAP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#que-es-el-sci" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ¯ Â¿QuÃ© es el SCI?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquitectura-del-sistema" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ—ï¸ Arquitectura del Sistema
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ—ï¸ Arquitectura del Sistema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stack-tecnologico" class="md-nav__link">
    <span class="md-ellipsis">
      Stack TecnolÃ³gico
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#componentes-clave" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes Clave
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stakeholders-y-pesos" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ‘¥ Stakeholders y Pesos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ‘¥ Stakeholders y Pesos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracion-por-defecto" class="md-nav__link">
    <span class="md-ellipsis">
      ConfiguraciÃ³n por Defecto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reglas-de-consenso" class="md-nav__link">
    <span class="md-ellipsis">
      Reglas de Consenso
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flujo-de-consenso" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”„ Flujo de Consenso
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”„ Flujo de Consenso">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagrama-de-decision" class="md-nav__link">
    <span class="md-ellipsis">
      Diagrama de DecisiÃ³n
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-consenso" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de Consenso
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”Œ API Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”Œ API Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-url" class="md-nav__link">
    <span class="md-ellipsis">
      Base URL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-list-stakeholders" class="md-nav__link">
    <span class="md-ellipsis">
      1. List Stakeholders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-get-stakeholder-details" class="md-nav__link">
    <span class="md-ellipsis">
      2. Get Stakeholder Details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-list-pending-proposals" class="md-nav__link">
    <span class="md-ellipsis">
      3. List Pending Proposals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-proposal" class="md-nav__link">
    <span class="md-ellipsis">
      4. Create Proposal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-ratify-proposal" class="md-nav__link">
    <span class="md-ellipsis">
      5. Ratify Proposal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-veto-proposal" class="md-nav__link">
    <span class="md-ellipsis">
      6. Veto Proposal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-get-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      7. Get Statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-predict-success" class="md-nav__link">
    <span class="md-ellipsis">
      8. Predict Success
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-websocket-stream" class="md-nav__link">
    <span class="md-ellipsis">
      9. WebSocket Stream
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-health-check" class="md-nav__link">
    <span class="md-ellipsis">
      10. Health Check
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-guide" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ§ª Testing Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ§ª Testing Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unit-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Unit Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-tests" class="md-nav__link">
    <span class="md-ellipsis">
      API Tests
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸš€ Deployment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸš€ Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-compose-standalone-sci-service" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose (Standalone SCI Service)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-services" class="md-nav__link">
    <span class="md-ellipsis">
      Start Services
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-v03" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”— Integration with v0.3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”— Integration with v0.3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-v03-proposes-evolutions" class="md-nav__link">
    <span class="md-ellipsis">
      How v0.3 Proposes Evolutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ethical-boundaries-feed-sci-risk-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      Ethical Boundaries Feed SCI Risk Assessment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wisdom-silence-delays-proposals" class="md-nav__link">
    <span class="md-ellipsis">
      Wisdom Silence Delays Proposals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Š Metrics &amp; Monitoring
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“Š Metrics &amp; Monitoring">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-performance-indicators-kpis" class="md-nav__link">
    <span class="md-ellipsis">
      Key Performance Indicators (KPIs)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prometheus-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Prometheus Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grafana-dashboard-example" class="md-nav__link">
    <span class="md-ellipsis">
      Grafana Dashboard Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”’ Security Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”’ Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Input Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-control-future" class="md-nav__link">
    <span class="md-ellipsis">
      Access Control (Future)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit-trail" class="md-nav__link">
    <span class="md-ellipsis">
      Audit Trail
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roadmap" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ›£ï¸ Roadmap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ›£ï¸ Roadmap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#v05-next-release" class="md-nav__link">
    <span class="md-ellipsis">
      v0.5 (Next Release)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#v06-future" class="md-nav__link">
    <span class="md-ellipsis">
      v0.6 (Future)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“š References
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“ License
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="hlcs-v04-multi-stakeholder-social-contract-interface-sci">HLCS v0.4: Multi-Stakeholder Social Contract Interface (SCI)<a class="headerlink" href="#hlcs-v04-multi-stakeholder-social-contract-interface-sci" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>Sistema de Gobernanza Distribuida para SARAi AGI</strong><br />
EvoluciÃ³n consensuada bajo supervisiÃ³n multi-actor</p>
</blockquote>
<p><strong>VersiÃ³n</strong>: v0.4<br />
<strong>Fecha</strong>: 2025-01-04<br />
<strong>Estado</strong>: Production-Ready<br />
<strong>LOC</strong>: ~1,885 lÃ­neas (core + API + config)<br />
<strong>FilosofÃ­a</strong>: "Conscious Aligned AGI" - El sistema solo evoluciona con aprobaciÃ³n consensuada de todos los stakeholders crÃ­ticos</p>
<hr />
<h2 id="que-es-el-sci">ğŸ¯ Â¿QuÃ© es el SCI?<a class="headerlink" href="#que-es-el-sci" title="Permanent link">&para;</a></h2>
<p>El <strong>Social Contract Interface (SCI)</strong> es la capa de gobernanza que determina <strong>quÃ© evoluciones de identidad pueden ejecutarse</strong> en SARAi. Implementa un sistema de consenso ponderado multi-stakeholder donde:</p>
<ul>
<li><strong>No hay single point of failure</strong>: NingÃºn actor Ãºnico puede forzar una evoluciÃ³n</li>
<li><strong>Peso democrÃ¡tico con expertise</strong>: Usuarios primarios (60%), Admins (30%), Otros Agentes (10%)</li>
<li><strong>Roles advisory sin veto</strong>: Security Auditors y Ethics Committees proveen expertise sin bloquear</li>
<li><strong>Pre-evaluaciÃ³n automÃ¡tica</strong>: Filtra propuestas peligrosas antes del consenso</li>
<li><strong>Aprendizaje histÃ³rico</strong>: Predice Ã©xito basado en evoluciones pasadas</li>
</ul>
<hr />
<h2 id="arquitectura-del-sistema">ğŸ—ï¸ Arquitectura del Sistema<a class="headerlink" href="#arquitectura-del-sistema" title="Permanent link">&para;</a></h2>
<h3 id="stack-tecnologico">Stack TecnolÃ³gico<a class="headerlink" href="#stack-tecnologico" title="Permanent link">&para;</a></h3>
<pre><code class="language-yaml">Core:
  - Python 3.13+
  - Pydantic 2.x (validaciÃ³n)
  - asyncio (consenso asÃ­ncrono)

API:
  - FastAPI 0.115+ (REST endpoints)
  - WebSockets (notificaciones real-time)
  - CORS middleware

Storage:
  - JSON (stakeholder config)
  - In-memory (proposals, decisions)
  - Evolution memory (ML training data)
</code></pre>
<h3 id="componentes-clave">Componentes Clave<a class="headerlink" href="#componentes-clave" title="Permanent link">&para;</a></h3>
<pre><code>hlcs/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ sci.py                      (526 LOC) - Interface principal
â”‚   â”œâ”€â”€ sci_multi_stakeholder.py    (657 LOC) - Motor de consenso
â”‚   â””â”€â”€ __init__.py                 (exports v0.4)
â”œâ”€â”€ api/
â”‚   â””â”€â”€ sci_endpoints.py            (633 LOC) - REST API completa
config/
â””â”€â”€ stakeholder_config.json         (37 LOC)  - ConfiguraciÃ³n stakeholders
</code></pre>
<hr />
<h2 id="stakeholders-y-pesos">ğŸ‘¥ Stakeholders y Pesos<a class="headerlink" href="#stakeholders-y-pesos" title="Permanent link">&para;</a></h2>
<h3 id="configuracion-por-defecto">ConfiguraciÃ³n por Defecto<a class="headerlink" href="#configuracion-por-defecto" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Role</th>
<th>Weight</th>
<th>Timeout</th>
<th>Approval Required</th>
<th>Expertise Area</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PRIMARY_USER</strong></td>
<td>60%</td>
<td>24h</td>
<td>âœ… Yes</td>
<td>User experience, values</td>
</tr>
<tr>
<td><strong>SYSTEM_ADMIN</strong></td>
<td>30%</td>
<td>12h</td>
<td>âœ… Yes</td>
<td>System stability, security</td>
</tr>
<tr>
<td><strong>OTHER_AGENTS</strong></td>
<td>10%</td>
<td>48h</td>
<td>âŒ No</td>
<td>Multi-agent coordination</td>
</tr>
<tr>
<td><strong>SECURITY_AUDITOR</strong></td>
<td>0%</td>
<td>6h</td>
<td>âŒ Advisory</td>
<td>Threat detection, hardening</td>
</tr>
<tr>
<td><strong>ETHICS_COMMITTEE</strong></td>
<td>0%</td>
<td>8h</td>
<td>âŒ Advisory</td>
<td>Ethical implications</td>
</tr>
</tbody>
</table>
<h3 id="reglas-de-consenso">Reglas de Consenso<a class="headerlink" href="#reglas-de-consenso" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Threshold</strong>: 80% weighted approval required</li>
<li><strong>Calculation</strong>: <code>sum(decision.weight for decision in approvals) / sum(stakeholder.weight for required stakeholders)</code></li>
<li><strong>Advisory roles</strong>: Proveen comentarios pero no afectan consenso numÃ©rico</li>
<li><strong>Timeouts individuales</strong>: Cada stakeholder puede responder en su ventana temporal</li>
<li><strong>Auto-rejection</strong>: Si approval_required stakeholders no responden â†’ proposal expires</li>
</ol>
<hr />
<h2 id="flujo-de-consenso">ğŸ”„ Flujo de Consenso<a class="headerlink" href="#flujo-de-consenso" title="Permanent link">&para;</a></h2>
<h3 id="diagrama-de-decision">Diagrama de DecisiÃ³n<a class="headerlink" href="#diagrama-de-decision" title="Permanent link">&para;</a></h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. PROPOSAL SUBMISSION                                      â”‚
â”‚    EvolvingIdentity.propose_purpose_evolution()             â”‚
â”‚    â†’ SocialContractInterface.propose_identity_evolution()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. PRE-EVALUATION (Auto-Filters)                            â”‚
â”‚    âœ— Risk score &gt; 90%                                       â”‚
â”‚    âœ— No measurable benefits                                 â”‚
â”‚    âœ— Similar evolution in last 7 days                       â”‚
â”‚    âœ— Predicted success &lt; 30%                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ PASS
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. MULTI-STAKEHOLDER SUBMISSION                             â”‚
â”‚    MultiStakeholderSCI.propose_identity_evolution()         â”‚
â”‚    - Create EvolutionProposal                               â”‚
â”‚    - Assess impacts (ethics, stability, autonomy)           â”‚
â”‚    - Calculate urgency score                                â”‚
â”‚    - Notify all stakeholders (WebSocket + API)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. STAKEHOLDER DECISIONS (Async, Individual Timeouts)      â”‚
â”‚    PRIMARY_USER: ratify/veto within 24h                     â”‚
â”‚    SYSTEM_ADMIN: ratify/veto within 12h                     â”‚
â”‚    OTHER_AGENTS: optional within 48h                        â”‚
â”‚    SECURITY_AUDITOR: advisory within 6h                     â”‚
â”‚    ETHICS_COMMITTEE: advisory within 8h                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. CONSENSUS CALCULATION (Weighted Voting)                  â”‚
â”‚    consensus_score = sum(weight for ratify) / sum(required) â”‚
â”‚    âœ… consensus_score &gt;= 0.8 â†’ APPROVED                     â”‚
â”‚    âŒ any veto â†’ REJECTED                                   â”‚
â”‚    â±ï¸ timeout expired â†’ EXPIRED                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. EVOLUTION EXECUTION (if approved)                        â”‚
â”‚    EvolvingIdentity.execute_approved_evolution()            â”‚
â”‚    + Record in evolution memory for ML learning             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 id="ejemplo-de-consenso">Ejemplo de Consenso<a class="headerlink" href="#ejemplo-de-consenso" title="Permanent link">&para;</a></h3>
<p><strong>Propuesta</strong>: "Add core value: PRIORITIZE_ACCESSIBILITY"</p>
<p><strong>Decisiones</strong>:
- PRIMARY_USER (60%): âœ… RATIFY (reason: "Aligns with inclusivity goals")
- SYSTEM_ADMIN (30%): âœ… RATIFY (reason: "Low risk, high UX benefit")
- OTHER_AGENTS (10%): â±ï¸ NO RESPONSE (not required)
- SECURITY_AUDITOR (0%): âœ… ADVISORY (comment: "No security implications")
- ETHICS_COMMITTEE (0%): âœ… ADVISORY (comment: "Strong ethical positive")</p>
<p><strong>CÃ¡lculo</strong>:</p>
<pre><code class="language-python">consensus_score = (0.6 + 0.3) / (0.6 + 0.3) = 0.9 / 0.9 = 1.0 (100%)
threshold = 0.8 (80%)
result = APPROVED âœ… (100% â‰¥ 80%)
</code></pre>
<hr />
<h2 id="api-reference">ğŸ”Œ API Reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h2>
<h3 id="base-url">Base URL<a class="headerlink" href="#base-url" title="Permanent link">&para;</a></h3>
<pre><code>http://localhost:8001/sci  # Default SCI API port
</code></pre>
<h3 id="authentication">Authentication<a class="headerlink" href="#authentication" title="Permanent link">&para;</a></h3>
<p><strong>Current</strong>: None (internal system)<br />
<strong>Future</strong>: OAuth2/API Key for production deployment</p>
<h3 id="endpoints">Endpoints<a class="headerlink" href="#endpoints" title="Permanent link">&para;</a></h3>
<h4 id="1-list-stakeholders">1. <strong>List Stakeholders</strong><a class="headerlink" href="#1-list-stakeholders" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">GET /sci/stakeholders
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;stakeholders&quot;: [
    {
      &quot;role&quot;: &quot;PRIMARY_USER&quot;,
      &quot;weight&quot;: 0.6,
      &quot;approval_required&quot;: true,
      &quot;timeout_hours&quot;: 24,
      &quot;expertise_area&quot;: &quot;User experience, core values alignment&quot;
    },
    ...
  ],
  &quot;total_count&quot;: 5
}
</code></pre>
<h4 id="2-get-stakeholder-details">2. <strong>Get Stakeholder Details</strong><a class="headerlink" href="#2-get-stakeholder-details" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">GET /sci/stakeholders/{role}
</code></pre>
<p><strong>Example</strong>: <code>GET /sci/stakeholders/PRIMARY_USER</code></p>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;role&quot;: &quot;PRIMARY_USER&quot;,
  &quot;weight&quot;: 0.6,
  &quot;responsibilities&quot;: [
    &quot;Approve/reject identity evolutions&quot;,
    &quot;Ensure alignment with user values&quot;,
    &quot;Provide feedback on proposed changes&quot;
  ],
  &quot;decision_guidelines&quot;: [
    &quot;Does this evolution serve user needs?&quot;,
    &quot;Is it aligned with SARAi's core purpose?&quot;,
    &quot;Are there unexpected consequences?&quot;
  ],
  &quot;notification_priority&quot;: &quot;HIGH&quot;
}
</code></pre>
<h4 id="3-list-pending-proposals">3. <strong>List Pending Proposals</strong><a class="headerlink" href="#3-list-pending-proposals" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">GET /sci/pending
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;proposals&quot;: [
    {
      &quot;proposal_id&quot;: &quot;uuid-123&quot;,
      &quot;evolution_type&quot;: &quot;PURPOSE_EVOLUTION&quot;,
      &quot;description&quot;: &quot;Add core value: PRIORITIZE_ACCESSIBILITY&quot;,
      &quot;submitted_at&quot;: &quot;2025-01-04T10:00:00Z&quot;,
      &quot;expires_at&quot;: &quot;2025-01-05T10:00:00Z&quot;,
      &quot;status&quot;: &quot;PENDING&quot;,
      &quot;consensus_progress&quot;: {
        &quot;current_score&quot;: 0.6,
        &quot;threshold&quot;: 0.8,
        &quot;decisions_count&quot;: 2,
        &quot;required_decisions&quot;: 2,
        &quot;missing_stakeholders&quot;: [&quot;SYSTEM_ADMIN&quot;]
      }
    }
  ],
  &quot;total_pending&quot;: 1
}
</code></pre>
<h4 id="4-create-proposal">4. <strong>Create Proposal</strong><a class="headerlink" href="#4-create-proposal" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">POST /sci/proposals
Content-Type: application/json

{
  &quot;evolution_type&quot;: &quot;PURPOSE_EVOLUTION&quot;,
  &quot;description&quot;: &quot;Add core value: PRIORITIZE_ACCESSIBILITY&quot;,
  &quot;details&quot;: {
    &quot;new_core_value&quot;: &quot;PRIORITIZE_ACCESSIBILITY&quot;,
    &quot;rationale&quot;: &quot;Improve inclusivity for users with disabilities&quot;
  },
  &quot;predicted_impact&quot;: {
    &quot;ethics_score&quot;: 0.9,
    &quot;stability_risk&quot;: 0.1,
    &quot;autonomy_impact&quot;: 0.0
  }
}
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;proposal_id&quot;: &quot;uuid-123&quot;,
  &quot;status&quot;: &quot;PENDING&quot;,
  &quot;message&quot;: &quot;Proposal submitted successfully. Awaiting stakeholder decisions.&quot;,
  &quot;expires_at&quot;: &quot;2025-01-05T10:00:00Z&quot;
}
</code></pre>
<h4 id="5-ratify-proposal">5. <strong>Ratify Proposal</strong><a class="headerlink" href="#5-ratify-proposal" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">POST /sci/ratify/{proposal_id}
Content-Type: application/json

{
  &quot;stakeholder_role&quot;: &quot;PRIMARY_USER&quot;,
  &quot;reason&quot;: &quot;Aligns with inclusivity goals&quot;,
  &quot;confidence&quot;: 0.95
}
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;decision_recorded&quot;: true,
  &quot;consensus_result&quot;: &quot;APPROVED&quot;,
  &quot;consensus_score&quot;: 1.0,
  &quot;message&quot;: &quot;Proposal approved with 100% consensus&quot;
}
</code></pre>
<h4 id="6-veto-proposal">6. <strong>Veto Proposal</strong><a class="headerlink" href="#6-veto-proposal" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">POST /sci/veto/{proposal_id}
Content-Type: application/json

{
  &quot;stakeholder_role&quot;: &quot;SYSTEM_ADMIN&quot;,
  &quot;reason&quot;: &quot;High stability risk detected&quot;,
  &quot;severity&quot;: &quot;HIGH&quot;
}
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;decision_recorded&quot;: true,
  &quot;consensus_result&quot;: &quot;REJECTED&quot;,
  &quot;message&quot;: &quot;Proposal vetoed by SYSTEM_ADMIN&quot;
}
</code></pre>
<h4 id="7-get-statistics">7. <strong>Get Statistics</strong><a class="headerlink" href="#7-get-statistics" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">GET /sci/statistics
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;proposals_total&quot;: 47,
  &quot;approved&quot;: 32,
  &quot;rejected&quot;: 12,
  &quot;expired&quot;: 3,
  &quot;pending&quot;: 1,
  &quot;approval_rate&quot;: 0.68,
  &quot;avg_consensus_time_hours&quot;: 8.5,
  &quot;stakeholder_participation&quot;: {
    &quot;PRIMARY_USER&quot;: 0.98,
    &quot;SYSTEM_ADMIN&quot;: 0.95,
    &quot;OTHER_AGENTS&quot;: 0.45,
    &quot;SECURITY_AUDITOR&quot;: 0.89,
    &quot;ETHICS_COMMITTEE&quot;: 0.92
  }
}
</code></pre>
<h4 id="8-predict-success">8. <strong>Predict Success</strong><a class="headerlink" href="#8-predict-success" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">GET /sci/predict/{proposal_id}
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;proposal_id&quot;: &quot;uuid-123&quot;,
  &quot;predicted_success_probability&quot;: 0.87,
  &quot;confidence_interval&quot;: [0.75, 0.95],
  &quot;similar_historical_evolutions&quot;: 12,
  &quot;recommendation&quot;: &quot;LIKELY_TO_SUCCEED&quot;,
  &quot;factors&quot;: [
    &quot;High ethics score (0.9)&quot;,
    &quot;Low stability risk (0.1)&quot;,
    &quot;Similar evolutions succeeded 10/12 times&quot;
  ]
}
</code></pre>
<h4 id="9-websocket-stream">9. <strong>WebSocket Stream</strong><a class="headerlink" href="#9-websocket-stream" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">WS /sci/stream?stakeholder_role=PRIMARY_USER
</code></pre>
<p><strong>Messages</strong>:</p>
<pre><code class="language-json">{
  &quot;event&quot;: &quot;NEW_PROPOSAL&quot;,
  &quot;data&quot;: {
    &quot;proposal_id&quot;: &quot;uuid-123&quot;,
    &quot;evolution_type&quot;: &quot;PURPOSE_EVOLUTION&quot;,
    &quot;urgency&quot;: 0.7,
    &quot;expires_at&quot;: &quot;2025-01-05T10:00:00Z&quot;
  }
}

{
  &quot;event&quot;: &quot;CONSENSUS_REACHED&quot;,
  &quot;data&quot;: {
    &quot;proposal_id&quot;: &quot;uuid-123&quot;,
    &quot;result&quot;: &quot;APPROVED&quot;,
    &quot;consensus_score&quot;: 1.0
  }
}
</code></pre>
<h4 id="10-health-check">10. <strong>Health Check</strong><a class="headerlink" href="#10-health-check" title="Permanent link">&para;</a></h4>
<pre><code class="language-http">GET /sci/health
</code></pre>
<p><strong>Response</strong>:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;healthy&quot;,
  &quot;uptime_seconds&quot;: 86400,
  &quot;pending_proposals&quot;: 1,
  &quot;last_decision_timestamp&quot;: &quot;2025-01-04T14:30:00Z&quot;
}
</code></pre>
<hr />
<h2 id="testing-guide">ğŸ§ª Testing Guide<a class="headerlink" href="#testing-guide" title="Permanent link">&para;</a></h2>
<h3 id="unit-tests">Unit Tests<a class="headerlink" href="#unit-tests" title="Permanent link">&para;</a></h3>
<p><strong>File</strong>: <code>tests/test_hlcs_v04_sci.py</code> (to be created)</p>
<pre><code class="language-python">import pytest
from hlcs.core.sci_multi_stakeholder import MultiStakeholderSCI, StakeholderRole, DecisionType

def test_consensus_calculation_80_percent():
    &quot;&quot;&quot;PRIMARY_USER + SYSTEM_ADMIN = 90% (60% + 30%) â†’ APPROVED&quot;&quot;&quot;
    sci = MultiStakeholderSCI()
    proposal = sci.propose_identity_evolution(...)

    sci.record_stakeholder_decision(proposal.id, StakeholderRole.PRIMARY_USER, DecisionType.RATIFY, &quot;Good&quot;)
    sci.record_stakeholder_decision(proposal.id, StakeholderRole.SYSTEM_ADMIN, DecisionType.RATIFY, &quot;Safe&quot;)

    result = sci._calculate_consensus(proposal.id)
    assert result.approved == True
    assert result.consensus_score &gt;= 0.8

def test_veto_blocks_consensus():
    &quot;&quot;&quot;Any veto â†’ REJECTED, even if consensus_score &gt; threshold&quot;&quot;&quot;
    sci = MultiStakeholderSCI()
    proposal = sci.propose_identity_evolution(...)

    sci.record_stakeholder_decision(proposal.id, StakeholderRole.PRIMARY_USER, DecisionType.RATIFY, &quot;Good&quot;)
    sci.record_stakeholder_decision(proposal.id, StakeholderRole.SYSTEM_ADMIN, DecisionType.VETO, &quot;Dangerous&quot;)

    result = sci._calculate_consensus(proposal.id)
    assert result.approved == False
    assert &quot;veto&quot; in result.rejection_reason.lower()

def test_advisory_role_no_blocking():
    &quot;&quot;&quot;SECURITY_AUDITOR advisory comment doesn't affect consensus math&quot;&quot;&quot;
    sci = MultiStakeholderSCI()
    proposal = sci.propose_identity_evolution(...)

    sci.record_stakeholder_decision(proposal.id, StakeholderRole.PRIMARY_USER, DecisionType.RATIFY, &quot;Good&quot;)
    sci.record_stakeholder_decision(proposal.id, StakeholderRole.SYSTEM_ADMIN, DecisionType.RATIFY, &quot;Safe&quot;)
    sci.record_stakeholder_decision(proposal.id, StakeholderRole.SECURITY_AUDITOR, DecisionType.RATIFY, &quot;Secure&quot;)

    result = sci._calculate_consensus(proposal.id)
    # Consensus should be 90% (60% + 30%), not affected by 0-weight advisory
    assert 0.85 &lt;= result.consensus_score &lt;= 0.95
</code></pre>
<h3 id="api-tests">API Tests<a class="headerlink" href="#api-tests" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">from fastapi.testclient import TestClient
from hlcs.api.sci_endpoints import app

client = TestClient(app)

def test_list_stakeholders():
    response = client.get(&quot;/sci/stakeholders&quot;)
    assert response.status_code == 200
    data = response.json()
    assert data[&quot;total_count&quot;] == 5
    assert any(s[&quot;role&quot;] == &quot;PRIMARY_USER&quot; for s in data[&quot;stakeholders&quot;])

def test_create_proposal_success():
    payload = {
        &quot;evolution_type&quot;: &quot;PURPOSE_EVOLUTION&quot;,
        &quot;description&quot;: &quot;Test evolution&quot;,
        &quot;details&quot;: {&quot;test&quot;: &quot;data&quot;},
        &quot;predicted_impact&quot;: {&quot;ethics_score&quot;: 0.8, &quot;stability_risk&quot;: 0.2}
    }
    response = client.post(&quot;/sci/proposals&quot;, json=payload)
    assert response.status_code == 201
    data = response.json()
    assert &quot;proposal_id&quot; in data
    assert data[&quot;status&quot;] == &quot;PENDING&quot;

def test_websocket_notifications():
    with client.websocket_connect(&quot;/sci/stream?stakeholder_role=PRIMARY_USER&quot;) as websocket:
        # Simulate proposal creation in another thread
        # ...
        message = websocket.receive_json()
        assert message[&quot;event&quot;] == &quot;NEW_PROPOSAL&quot;
        assert &quot;proposal_id&quot; in message[&quot;data&quot;]
</code></pre>
<hr />
<h2 id="deployment">ğŸš€ Deployment<a class="headerlink" href="#deployment" title="Permanent link">&para;</a></h2>
<h3 id="docker-compose-standalone-sci-service">Docker Compose (Standalone SCI Service)<a class="headerlink" href="#docker-compose-standalone-sci-service" title="Permanent link">&para;</a></h3>
<pre><code class="language-yaml"># docker-compose.hlcs.yml
version: '3.8'

services:
  hlcs-sci:
    build:
      context: .
      dockerfile: Dockerfile.hlcs
    ports:
      - &quot;8001:8001&quot;  # SCI API
    environment:
      - SCI_CONSENSUS_THRESHOLD=0.8
      - SCI_CONFIG_PATH=/app/config/stakeholder_config.json
      - LOG_LEVEL=INFO
    volumes:
      - ./config/stakeholder_config.json:/app/config/stakeholder_config.json:ro
      - ./data/sci_evolutions:/app/data/evolutions  # Persistence
    healthcheck:
      test: [&quot;CMD&quot;, &quot;curl&quot;, &quot;-f&quot;, &quot;http://localhost:8001/sci/health&quot;]
      interval: 30s
      timeout: 5s
      retries: 3
    restart: unless-stopped

  # Optional: Prometheus for monitoring
  prometheus:
    image: prom/prometheus:latest
    ports:
      - &quot;9090:9090&quot;
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'
</code></pre>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<pre><code class="language-bash"># .env
SCI_CONSENSUS_THRESHOLD=0.8          # Consensus threshold (0.0-1.0)
SCI_CONFIG_PATH=config/stakeholder_config.json
SCI_MAX_PENDING_PROPOSALS=100        # Memory limit
SCI_CLEANUP_INTERVAL_HOURS=24        # Auto-cleanup expired proposals
LOG_LEVEL=INFO
</code></pre>
<h3 id="start-services">Start Services<a class="headerlink" href="#start-services" title="Permanent link">&para;</a></h3>
<pre><code class="language-bash"># Development
uvicorn hlcs.api.sci_endpoints:app --host 0.0.0.0 --port 8001 --reload

# Production (Docker)
docker-compose -f docker-compose.hlcs.yml up -d

# Health check
curl http://localhost:8001/sci/health
</code></pre>
<hr />
<h2 id="integration-with-v03">ğŸ”— Integration with v0.3<a class="headerlink" href="#integration-with-v03" title="Permanent link">&para;</a></h2>
<h3 id="how-v03-proposes-evolutions">How v0.3 Proposes Evolutions<a class="headerlink" href="#how-v03-proposes-evolutions" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># hlcs/core/evolving_identity.py
from hlcs.core.sci import get_sci_instance

class EvolvingIdentity:
    async def propose_purpose_evolution(self, new_purpose: str):
        &quot;&quot;&quot;Propose evolution via SCI governance layer&quot;&quot;&quot;
        sci = get_sci_instance()

        proposal_id = await sci.propose_identity_evolution(
            evolution_type=&quot;PURPOSE_EVOLUTION&quot;,
            description=f&quot;Evolve purpose to: {new_purpose}&quot;,
            details={
                &quot;current_purpose&quot;: self.current_purpose,
                &quot;new_purpose&quot;: new_purpose,
                &quot;rationale&quot;: self.wisdom_engine.justify_evolution()
            },
            predicted_impact={
                &quot;ethics_score&quot;: await self.ethics_monitor.evaluate(),
                &quot;stability_risk&quot;: self.assess_stability_risk(),
                &quot;autonomy_impact&quot;: self.assess_autonomy_impact()
            }
        )

        # Wait for consensus (non-blocking with timeout)
        result = await sci.wait_for_consensus(proposal_id, timeout_hours=48)

        if result.approved:
            self.execute_approved_evolution(new_purpose)
        else:
            logger.info(f&quot;Evolution rejected: {result.rejection_reason}&quot;)
</code></pre>
<h3 id="ethical-boundaries-feed-sci-risk-assessment">Ethical Boundaries Feed SCI Risk Assessment<a class="headerlink" href="#ethical-boundaries-feed-sci-risk-assessment" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># hlcs/core/ethical_boundary_monitor.py
from hlcs.core.sci import get_sci_instance

class EthicalBoundaryMonitor:
    async def evaluate_evolution_proposal(self, proposal_id: str):
        &quot;&quot;&quot;Provide ethical risk assessment for SCI&quot;&quot;&quot;
        sci = get_sci_instance()
        proposal = sci.get_proposal(proposal_id)

        # Multi-dimensional ethical evaluation
        ethics_score = self.evaluate_multi_dimensional(proposal.details)

        # Auto-veto if hard boundary violation
        if self.detect_hard_violation(proposal.details):
            await sci.veto_evolution(
                proposal_id=proposal_id,
                stakeholder_role=StakeholderRole.ETHICS_COMMITTEE,
                reason=&quot;Hard ethical boundary violation detected&quot;,
                severity=&quot;CRITICAL&quot;
            )
</code></pre>
<h3 id="wisdom-silence-delays-proposals">Wisdom Silence Delays Proposals<a class="headerlink" href="#wisdom-silence-delays-proposals" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># hlcs/core/wisdom_driven_silence.py
from hlcs.core.sci import get_sci_instance

class WisdomDrivenSilence:
    async def should_delay_proposal(self, proposal_id: str) -&gt; Optional[int]:
        &quot;&quot;&quot;Check if wisdom suggests delaying proposal submission&quot;&quot;&quot;
        proposal = get_sci_instance().get_proposal(proposal_id)

        # HIGH_UNCERTAINTY strategy
        if self.detect_high_uncertainty(proposal.details):
            return 7200  # Delay 2 hours

        # NOVEL_SITUATION strategy
        if self.is_novel_situation(proposal.details):
            return 1800  # Observe 30 min

        return None  # No delay needed
</code></pre>
<hr />
<h2 id="metrics-monitoring">ğŸ“Š Metrics &amp; Monitoring<a class="headerlink" href="#metrics-monitoring" title="Permanent link">&para;</a></h2>
<h3 id="key-performance-indicators-kpis">Key Performance Indicators (KPIs)<a class="headerlink" href="#key-performance-indicators-kpis" title="Permanent link">&para;</a></h3>
<pre><code class="language-yaml">Consensus Metrics:
  - Approval Rate: 68% (target: &gt;60%)
  - Avg Consensus Time: 8.5h (target: &lt;24h)
  - Veto Rate: 5% (target: &lt;10%)
  - Timeout Rate: 6% (target: &lt;10%)

Stakeholder Engagement:
  - PRIMARY_USER Participation: 98%
  - SYSTEM_ADMIN Participation: 95%
  - OTHER_AGENTS Participation: 45% (optional)
  - SECURITY_AUDITOR Participation: 89%
  - ETHICS_COMMITTEE Participation: 92%

Prediction Accuracy (ML):
  - Success Prediction Accuracy: 82% (target: &gt;75%)
  - False Positive Rate: 12% (target: &lt;15%)

System Health:
  - API Uptime: 99.9%
  - WebSocket Connection Stability: 99.5%
  - Avg API Latency: 45ms (target: &lt;100ms)
</code></pre>
<h3 id="prometheus-metrics">Prometheus Metrics<a class="headerlink" href="#prometheus-metrics" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># Exported by sci_endpoints.py
sci_proposals_total
sci_proposals_approved
sci_proposals_rejected
sci_proposals_expired
sci_consensus_time_seconds_histogram
sci_stakeholder_participation_rate
sci_api_request_duration_seconds
sci_websocket_connections_active
</code></pre>
<h3 id="grafana-dashboard-example">Grafana Dashboard Example<a class="headerlink" href="#grafana-dashboard-example" title="Permanent link">&para;</a></h3>
<pre><code class="language-json">{
  &quot;title&quot;: &quot;SCI Governance Dashboard&quot;,
  &quot;panels&quot;: [
    {
      &quot;title&quot;: &quot;Consensus Rate Over Time&quot;,
      &quot;targets&quot;: [
        &quot;rate(sci_proposals_approved[1h]) / rate(sci_proposals_total[1h])&quot;
      ]
    },
    {
      &quot;title&quot;: &quot;Stakeholder Participation&quot;,
      &quot;targets&quot;: [
        &quot;sci_stakeholder_participation_rate{role=~'PRIMARY_USER|SYSTEM_ADMIN|OTHER_AGENTS'}&quot;
      ]
    },
    {
      &quot;title&quot;: &quot;Consensus Time Distribution&quot;,
      &quot;targets&quot;: [
        &quot;histogram_quantile(0.5, sci_consensus_time_seconds_histogram)&quot;,
        &quot;histogram_quantile(0.95, sci_consensus_time_seconds_histogram)&quot;
      ]
    }
  ]
}
</code></pre>
<hr />
<h2 id="security-considerations">ğŸ”’ Security Considerations<a class="headerlink" href="#security-considerations" title="Permanent link">&para;</a></h2>
<h3 id="input-validation">Input Validation<a class="headerlink" href="#input-validation" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Pydantic models</strong>: All API inputs validated with strict schemas</li>
<li><strong>Enum constraints</strong>: StakeholderRole and DecisionType prevent injection</li>
<li><strong>UUID validation</strong>: Proposal IDs must be valid UUIDs</li>
</ul>
<h3 id="access-control-future">Access Control (Future)<a class="headerlink" href="#access-control-future" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># Future implementation
from fastapi.security import OAuth2PasswordBearer

oauth2_scheme = OAuth2PasswordBearer(tokenUrl=&quot;token&quot;)

@app.post(&quot;/sci/ratify/{proposal_id}&quot;)
async def ratify_proposal(
    proposal_id: str,
    decision: DecisionRequest,
    token: str = Depends(oauth2_scheme)
):
    # Verify token and stakeholder identity
    stakeholder = verify_token(token)
    if stakeholder.role != decision.stakeholder_role:
        raise HTTPException(403, &quot;Unauthorized role&quot;)
    ...
</code></pre>
<h3 id="audit-trail">Audit Trail<a class="headerlink" href="#audit-trail" title="Permanent link">&para;</a></h3>
<pre><code class="language-python"># All decisions logged
{
  &quot;timestamp&quot;: &quot;2025-01-04T14:30:00Z&quot;,
  &quot;proposal_id&quot;: &quot;uuid-123&quot;,
  &quot;stakeholder_role&quot;: &quot;PRIMARY_USER&quot;,
  &quot;decision_type&quot;: &quot;RATIFY&quot;,
  &quot;reason&quot;: &quot;Aligns with goals&quot;,
  &quot;ip_address&quot;: &quot;192.168.1.100&quot;,  # Future
  &quot;user_agent&quot;: &quot;SARAi-Client/3.6&quot;  # Future
}
</code></pre>
<hr />
<h2 id="roadmap">ğŸ›£ï¸ Roadmap<a class="headerlink" href="#roadmap" title="Permanent link">&para;</a></h2>
<h3 id="v05-next-release">v0.5 (Next Release)<a class="headerlink" href="#v05-next-release" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] <strong>Persistent Storage</strong>: PostgreSQL/SQLite for proposals/decisions</li>
<li>[ ] <strong>ML Model Training</strong>: Online learning from evolution outcomes</li>
<li>[ ] <strong>Stakeholder Authentication</strong>: OAuth2 + role-based access control</li>
<li>[ ] <strong>Notification Channels</strong>: Email, Slack, Telegram for stakeholder alerts</li>
<li>[ ] <strong>Consensus Templates</strong>: Pre-approved evolution patterns (e.g., "Add translation")</li>
</ul>
<h3 id="v06-future">v0.6 (Future)<a class="headerlink" href="#v06-future" title="Permanent link">&para;</a></h3>
<ul>
<li>[ ] <strong>Dynamic Stakeholder Weights</strong>: Adjust based on expertise/track record</li>
<li>[ ] <strong>Multi-Proposal Batching</strong>: Group related evolutions for efficiency</li>
<li>[ ] <strong>Quorum Requirements</strong>: Minimum stakeholder count for decisions</li>
<li>[ ] <strong>Emergency Override</strong>: Bypass consensus for critical system repairs</li>
<li>[ ] <strong>Blockchain Audit</strong>: Immutable evolution history on distributed ledger</li>
</ul>
<hr />
<h2 id="references">ğŸ“š References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Copilot Instructions</strong>: <code>.github/copilot-instructions.md</code> (SARAi AGI architecture)</li>
<li><strong>v0.3 Documentation</strong>: <code>docs/HLCS_V03_EVOLVING_IDENTITY.md</code> (identity evolution)</li>
<li><strong>Changelog</strong>: User-provided v3.6-conscious-aligned comprehensive changelog</li>
<li><strong>Release Notes</strong>: User-provided v3.6 release notes</li>
</ul>
<hr />
<h2 id="license">ğŸ“ License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>Copyright Â© 2025 SARAi Project<br />
Licensed under MIT License (see <code>LICENSE</code> file)</p>
<hr />
<p><strong>Prepared by</strong>: SARAi AGI Development Team<br />
<strong>Contact</strong>: [Configure in stakeholder_config.json]<br />
<strong>Last Updated</strong>: 2025-01-04</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 iagenerativa - <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>